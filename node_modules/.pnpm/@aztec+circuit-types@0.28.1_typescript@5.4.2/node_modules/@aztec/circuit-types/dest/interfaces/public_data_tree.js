import { Fr } from '@aztec/circuits.js';
/**
 * Public data witness.
 * @remarks This allows to prove either:
 * - That a slot in the public data tree is empty (0 value) if it falls within the range of the leaf.
 * - The current value of a slot in the public data tree if it matches exactly the slot of the leaf.
 */
export class PublicDataWitness {
    constructor(
    /**
     * The index of the leaf in the public data tree.
     */
    index, 
    /**
     * Preimage of a low leaf. All the slots in the range of the leaf are empty, and the current value of the
     * leaf slot is stored in the leaf.
     */
    leafPreimage, 
    /**
     * Sibling path to prove membership of the leaf.
     */
    siblingPath) {
        this.index = index;
        this.leafPreimage = leafPreimage;
        this.siblingPath = siblingPath;
    }
    /**
     * Returns a field array representation of a public data witness.
     * @returns A field array representation of a public data witness.
     */
    toFields() {
        return [
            new Fr(this.index),
            new Fr(this.leafPreimage.slot),
            new Fr(this.leafPreimage.value),
            new Fr(this.leafPreimage.nextIndex),
            new Fr(this.leafPreimage.nextSlot),
            ...this.siblingPath.toFields(),
        ];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljX2RhdGFfdHJlZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnRlcmZhY2VzL3B1YmxpY19kYXRhX3RyZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEVBQUUsRUFBdUQsTUFBTSxvQkFBb0IsQ0FBQztBQUk3Rjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxpQkFBaUI7SUFDNUI7SUFDRTs7T0FFRztJQUNhLEtBQWE7SUFDN0I7OztPQUdHO0lBQ2EsWUFBd0M7SUFDeEQ7O09BRUc7SUFDYSxXQUF3RDtRQVR4RCxVQUFLLEdBQUwsS0FBSyxDQUFRO1FBS2IsaUJBQVksR0FBWixZQUFZLENBQTRCO1FBSXhDLGdCQUFXLEdBQVgsV0FBVyxDQUE2QztJQUN2RSxDQUFDO0lBRUo7OztPQUdHO0lBQ0ksUUFBUTtRQUNiLE9BQU87WUFDTCxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ2xCLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQzlCLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO1lBQy9CLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDO1lBQ25DLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDO1lBQ2xDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUU7U0FDL0IsQ0FBQztJQUNKLENBQUM7Q0FDRiJ9