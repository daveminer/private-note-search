import { retryUntil } from '@aztec/foundation/retry';
export const waitForPXE = async (pxe, logger) => {
    await retryUntil(async () => {
        try {
            logger?.('Attempting to contact PXE...');
            await pxe.getNodeInfo();
            return true;
        }
        catch (error) {
            logger?.('Failed to contact PXE!');
        }
        return undefined;
    }, 'RPC Get Node Info');
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHhlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL3B4ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFckQsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxHQUFRLEVBQUUsTUFBb0IsRUFBRSxFQUFFO0lBQ2pFLE1BQU0sVUFBVSxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQzFCLElBQUksQ0FBQztZQUNILE1BQU0sRUFBRSxDQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDekMsTUFBTSxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sRUFBRSxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDckMsQ0FBQztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQyJ9