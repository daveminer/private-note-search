import { Fr } from '@aztec/foundation/fields';
import { BufferReader, serializeToBuffer } from '@aztec/foundation/serialize';
import { NUM_MSGS_PER_BASE_PARITY } from '../../constants.gen.js';
export class BaseParityInputs {
    constructor(
    /** Aggregated proof of all the parity circuit iterations. */
    msgs) {
        this.msgs = msgs;
    }
    static fromSlice(array, index) {
        const start = index * NUM_MSGS_PER_BASE_PARITY;
        const end = start + NUM_MSGS_PER_BASE_PARITY;
        const msgs = array.slice(start, end);
        return new BaseParityInputs(msgs);
    }
    toBuffer() {
        return serializeToBuffer(this.msgs);
    }
    static fromBuffer(buffer) {
        const reader = BufferReader.asReader(buffer);
        return new BaseParityInputs(reader.readArray(NUM_MSGS_PER_BASE_PARITY, Fr));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZV9wYXJpdHlfaW5wdXRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3N0cnVjdHMvcGFyaXR5L2Jhc2VfcGFyaXR5X2lucHV0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDOUMsT0FBTyxFQUFFLFlBQVksRUFBUyxpQkFBaUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRXJGLE9BQU8sRUFBdUMsd0JBQXdCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUV2RyxNQUFNLE9BQU8sZ0JBQWdCO0lBQzNCO0lBQ0UsNkRBQTZEO0lBQzdDLElBQWdEO1FBQWhELFNBQUksR0FBSixJQUFJLENBQTRDO0lBQy9ELENBQUM7SUFFRyxNQUFNLENBQUMsU0FBUyxDQUNyQixLQUE0RCxFQUM1RCxLQUFhO1FBRWIsTUFBTSxLQUFLLEdBQUcsS0FBSyxHQUFHLHdCQUF3QixDQUFDO1FBQy9DLE1BQU0sR0FBRyxHQUFHLEtBQUssR0FBRyx3QkFBd0IsQ0FBQztRQUM3QyxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNyQyxPQUFPLElBQUksZ0JBQWdCLENBQUMsSUFBa0QsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFRCxRQUFRO1FBQ04sT0FBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBNkI7UUFDN0MsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QyxPQUFPLElBQUksZ0JBQWdCLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUM7Q0FDRiJ9