import { EthAddress, getContractClassFromArtifact, getContractInstanceFromDeployParams, } from '@aztec/circuits.js';
import { Fr, Point } from '@aztec/foundation/fields';
/** Returns the canonical deployment a given artifact. */
export function getCanonicalProtocolContract(artifact, salt, constructorArgs = [], publicKey = Point.ZERO, portalAddress = EthAddress.ZERO) {
    // TODO(@spalladino): This computes the contract class from the artifact twice.
    const contractClass = getContractClassFromArtifact(artifact);
    const instance = getContractInstanceFromDeployParams(artifact, {
        constructorArgs,
        salt: new Fr(salt),
        publicKey,
        portalAddress,
    });
    return {
        instance,
        contractClass,
        artifact,
        address: instance.address,
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2xfY29udHJhY3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcHJvdG9jb2xfY29udHJhY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLFVBQVUsRUFDViw0QkFBNEIsRUFDNUIsbUNBQW1DLEdBQ3BDLE1BQU0sb0JBQW9CLENBQUM7QUFFNUIsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQWVyRCx5REFBeUQ7QUFDekQsTUFBTSxVQUFVLDRCQUE0QixDQUMxQyxRQUEwQixFQUMxQixJQUEwQixFQUMxQixrQkFBeUIsRUFBRSxFQUMzQixZQUFtQixLQUFLLENBQUMsSUFBSSxFQUM3QixhQUFhLEdBQUcsVUFBVSxDQUFDLElBQUk7SUFFL0IsK0VBQStFO0lBQy9FLE1BQU0sYUFBYSxHQUFHLDRCQUE0QixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdELE1BQU0sUUFBUSxHQUFHLG1DQUFtQyxDQUFDLFFBQVEsRUFBRTtRQUM3RCxlQUFlO1FBQ2YsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQztRQUNsQixTQUFTO1FBQ1QsYUFBYTtLQUNkLENBQUMsQ0FBQztJQUNILE9BQU87UUFDTCxRQUFRO1FBQ1IsYUFBYTtRQUNiLFFBQVE7UUFDUixPQUFPLEVBQUUsUUFBUSxDQUFDLE9BQU87S0FDMUIsQ0FBQztBQUNKLENBQUMifQ==